{"swagger":"2.0","info":{"version":"4","title":"DisplayDeck Friendly API"},"host":"localhost:2001","basePath":"/tms/xdata","schemes":["http"],"paths":{"/health":{"get":{"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"object","properties":{"value":{"type":"string"}}}}}}},"/auth/login":{"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/AuthService.TLoginRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AuthService.TAuthResponse"}}}}},"/auth/register":{"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/AuthService.TRegisterRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AuthService.TAuthResponse"}}}}},"/plans":{"get":{"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"type":"object","properties":{"PlanID":{"type":"integer"},"Name":{"type":"string"},"Price":{"type":"number"},"MaxDisplays":{"type":"integer"},"MaxCampaigns":{"type":"integer"},"MaxMediaStorageGB":{"type":"integer"},"IsActive":{"type":"boolean"}}}}}}}},"/roles":{"get":{"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"array","items":{"type":"string"}}}}}},"/organizations":{"get":{"produces":["application/json"],"responses":{"200":{"description":"OK","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TOrganization"}}}}}}},"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TOrganization"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TOrganization"}}}}},"/organizations/{id}":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"id","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TOrganization"}}}}},"/organizations/{OrganizationId}/subscription":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"OrganizationId","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"type":"object","properties":{"SubscriptionID":{"type":"integer"},"OrganizationID":{"type":"integer"},"PlanID":{"type":"integer"},"Status":{"type":"string"},"CurrentPeriodEnd":{"type":"string","format":"date-time"}}}}}}},"/organizations/{OrganizationId}/displays":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"OrganizationId","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TDisplay"}}}}}}},"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"path","name":"OrganizationId","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TDisplay"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TDisplay"}}}}},"/displays/{Id}":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"Id","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TDisplay"}}}},"put":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"path","name":"Id","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TDisplay"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TDisplay"}}}},"delete":{"responses":{"204":{"description":"No Content"}}}},"/organizations/{OrganizationId}/campaigns":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"OrganizationId","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TCampaign"}}}}}}},"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"path","name":"OrganizationId","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TCampaign"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TCampaign"}}}}},"/campaigns/{Id}":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"Id","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TCampaign"}}}},"put":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"path","name":"Id","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TCampaign"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TCampaign"}}}},"delete":{"responses":{"204":{"description":"No Content"}}}},"/campaigns/{CampaignId}/items":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"CampaignId","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TCampaignItem"}}}}}}},"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"path","name":"CampaignId","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TCampaignItem"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TCampaignItem"}}}}},"/campaign-items/{Id}":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"Id","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TCampaignItem"}}}},"put":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"path","name":"Id","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TCampaignItem"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TCampaignItem"}}}},"delete":{"responses":{"204":{"description":"No Content"}}}},"/displays/{DisplayId}/campaign-assignments":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"DisplayId","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TDisplayCampaign"}}}}}}},"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"path","name":"DisplayId","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TDisplayCampaign"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TDisplayCampaign"}}}}},"/campaign-assignments/{Id}":{"put":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"path","name":"Id","required":true,"type":"integer"},{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TDisplayCampaign"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/uEntities.TDisplayCampaign"}}}},"delete":{"responses":{"204":{"description":"No Content"}}}},"/media-files/upload-url":{"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/MediaFileService.TUploadUrlRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/MediaFileService.TUploadUrlResponse"}}}}},"/media-files/{MediaFileId}/download-url":{"get":{"produces":["application/json"],"parameters":[{"in":"path","name":"MediaFileId","required":true,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/MediaFileService.TDownloadUrlResponse"}}}}},"/device/config":{"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/DeviceService.TDeviceConfigRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/DeviceService.TDeviceConfigResponse"}}}}},"/device/logs":{"post":{"consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/DeviceService.TDeviceLogRequest"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/DeviceService.TDeviceLogResponse"}}}}},"/playback-logs":{"post":{"consumes":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"DisplayId":{"type":"integer"},"MediaFileId":{"type":"integer"},"CampaignId":{"type":"integer"},"PlaybackTimestamp":{"type":"string","format":"date-time"}},"required":["DisplayId","MediaFileId","CampaignId","PlaybackTimestamp"]}}],"responses":{"204":{"description":"No Content"}}}}},"definitions":{"uEntities.TOrganization":{"type":"object","properties":{"Id":{"type":"integer"},"Name":{"type":"string"},"CreatedAt":{"type":"string","format":"date-time"},"UpdatedAt":{"type":"string","format":"date-time"}}},"uEntities.TDisplay":{"type":"object","properties":{"Id":{"type":"integer"},"OrganizationId":{"type":"integer"},"Name":{"type":"string"},"Orientation":{"type":"string"},"LastSeen":{"type":"string","format":"date-time"},"CurrentStatus":{"type":"string"},"ProvisioningToken":{"type":"string"},"CreatedAt":{"type":"string","format":"date-time"},"UpdatedAt":{"type":"string","format":"date-time"}}},"uEntities.TDisplayCampaign":{"type":"object","properties":{"Id":{"type":"integer"},"DisplayId":{"type":"integer"},"CampaignId":{"type":"integer"},"IsPrimary":{"type":"boolean"}}},"uEntities.TCampaign":{"type":"object","properties":{"Id":{"type":"integer"},"OrganizationId":{"type":"integer"},"Name":{"type":"string"},"Orientation":{"type":"string"},"CreatedAt":{"type":"string","format":"date-time"},"UpdatedAt":{"type":"string","format":"date-time"}}},"uEntities.TCampaignItem":{"type":"object","properties":{"Id":{"type":"integer"},"CampaignId":{"type":"integer"},"MediaFileId":{"type":"integer"},"DisplayOrder":{"type":"integer"},"Duration":{"type":"integer"}}},"DeviceService.TDeviceConfigRequest":{"type":"object","properties":{"ProvisioningToken":{"type":"string"}}},"DeviceService.TDeviceConfigResponse":{"type":"object","properties":{"Device":{"$ref":"#/definitions/uEntities.TDisplay"},"Campaigns":{"type":"array","items":{"$ref":"#/definitions/uEntities.TCampaign"}},"Success":{"type":"boolean"},"Message":{"type":"string"}}},"DeviceService.TDeviceLogRequest":{"type":"object","properties":{"DisplayId":{"type":"integer"},"LogType":{"type":"string"},"Message":{"type":"string"},"Timestamp":{"type":"string","format":"date-time"}}},"DeviceService.TDeviceLogResponse":{"type":"object","properties":{"Success":{"type":"boolean"},"Message":{"type":"string"}}},"AuthService.TRegisterRequest":{"type":"object","properties":{"Email":{"type":"string"},"Password":{"type":"string"},"OrganizationName":{"type":"string"}}},"AuthService.TAuthResponse":{"type":"object","properties":{"Token":{"type":"string"},"User":{"$ref":"#/definitions/uEntities.TUser"},"Success":{"type":"boolean"},"Message":{"type":"string"}}},"uEntities.TUser":{"type":"object","properties":{"Id":{"type":"integer"},"OrganizationId":{"type":"integer"},"Email":{"type":"string"},"PasswordHash":{"type":"string"},"Role":{"type":"string"},"CreatedAt":{"type":"string","format":"date-time"},"UpdatedAt":{"type":"string","format":"date-time"}}},"AuthService.TLoginRequest":{"type":"object","properties":{"Email":{"type":"string"},"Password":{"type":"string"}}},"MediaFileService.TUploadUrlRequest":{"type":"object","properties":{"OrganizationId":{"type":"integer"},"FileName":{"type":"string"},"FileType":{"type":"string"},"ContentLength":{"type":"integer"}}},"MediaFileService.TUploadUrlResponse":{"type":"object","properties":{"MediaFileId":{"type":"integer"},"UploadUrl":{"type":"string"},"StorageKey":{"type":"string"},"Success":{"type":"boolean"},"Message":{"type":"string"}}},"MediaFileService.TDownloadUrlResponse":{"type":"object","properties":{"DownloadUrl":{"type":"string"},"Success":{"type":"boolean"},"Message":{"type":"string"}}}}