{"swagger":"2.0","info":{"version":"3","title":"Server API"},"host":"localhost:2001","basePath":"/tms/xdata","tags":[{"name":"AuthService"},{"name":"CampaignItemService"},{"name":"CampaignService"},{"name":"DeviceService"},{"name":"DisplayCampaignService"},{"name":"DisplayService"},{"name":"HealthService"},{"name":"MediaFileService"},{"name":"OrganizationService"}],"paths":{"/AuthService/Login":{"post":{"tags":["AuthService"],"operationId":"IAuthService.Login","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/AuthService.TLoginRequest"}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/AuthService.TAuthResponse"}}}}},"/AuthService/Register":{"post":{"tags":["AuthService"],"operationId":"IAuthService.Register","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/AuthService.TRegisterRequest"}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/AuthService.TAuthResponse"}}}}},"/CampaignItemService/CreateCampaignItem":{"post":{"tags":["CampaignItemService"],"operationId":"ICampaignItemService.CreateCampaignItem","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"CampaignId":{"type":"integer"},"MediaFileId":{"type":"integer"},"DisplayOrder":{"type":"integer"},"Duration":{"type":"integer"}},"required":["CampaignId","MediaFileId","DisplayOrder","Duration"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TCampaignItem"}}}}},"/CampaignItemService/DeleteCampaignItem":{"post":{"tags":["CampaignItemService"],"operationId":"ICampaignItemService.DeleteCampaignItem","consumes":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"}},"required":["Id"]}}],"responses":{"204":{"description":"Successful response"}}}},"/CampaignItemService/GetCampaignItem":{"post":{"tags":["CampaignItemService"],"operationId":"ICampaignItemService.GetCampaignItem","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"}},"required":["Id"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TCampaignItem"}}}}},"/CampaignItemService/GetCampaignItems":{"post":{"tags":["CampaignItemService"],"operationId":"ICampaignItemService.GetCampaignItems","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"CampaignId":{"type":"integer"}},"required":["CampaignId"]}}],"responses":{"200":{"description":"Successful response","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TCampaignItem"}}}}}}}},"/CampaignItemService/UpdateCampaignItem":{"post":{"tags":["CampaignItemService"],"operationId":"ICampaignItemService.UpdateCampaignItem","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"},"MediaFileId":{"type":"integer"},"DisplayOrder":{"type":"integer"},"Duration":{"type":"integer"}},"required":["Id","MediaFileId","DisplayOrder","Duration"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TCampaignItem"}}}}},"/CampaignService/CreateCampaign":{"post":{"tags":["CampaignService"],"operationId":"ICampaignService.CreateCampaign","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"OrganizationId":{"type":"integer"},"Name":{"type":"string"},"Orientation":{"type":"string"}},"required":["OrganizationId","Name","Orientation"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TCampaign"}}}}},"/CampaignService/DeleteCampaign":{"post":{"tags":["CampaignService"],"operationId":"ICampaignService.DeleteCampaign","consumes":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"}},"required":["Id"]}}],"responses":{"204":{"description":"Successful response"}}}},"/CampaignService/GetCampaign":{"post":{"tags":["CampaignService"],"operationId":"ICampaignService.GetCampaign","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"}},"required":["Id"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TCampaign"}}}}},"/CampaignService/GetCampaigns":{"post":{"tags":["CampaignService"],"operationId":"ICampaignService.GetCampaigns","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"OrganizationId":{"type":"integer"}},"required":["OrganizationId"]}}],"responses":{"200":{"description":"Successful response","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TCampaign"}}}}}}}},"/CampaignService/UpdateCampaign":{"post":{"tags":["CampaignService"],"operationId":"ICampaignService.UpdateCampaign","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"},"Name":{"type":"string"},"Orientation":{"type":"string"}},"required":["Id","Name","Orientation"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TCampaign"}}}}},"/DeviceService/GetConfig":{"post":{"tags":["DeviceService"],"operationId":"IDeviceService.GetConfig","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/DeviceService.TDeviceConfigRequest"}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/DeviceService.TDeviceConfigResponse"}}}}},"/DeviceService/SendLog":{"post":{"tags":["DeviceService"],"operationId":"IDeviceService.SendLog","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/DeviceService.TDeviceLogRequest"}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/DeviceService.TDeviceLogResponse"}}}}},"/DisplayCampaignService/CreateDisplayCampaign":{"post":{"tags":["DisplayCampaignService"],"operationId":"IDisplayCampaignService.CreateDisplayCampaign","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"DisplayId":{"type":"integer"},"CampaignId":{"type":"integer"},"IsPrimary":{"type":"boolean"}},"required":["DisplayId","CampaignId","IsPrimary"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TDisplayCampaign"}}}}},"/DisplayCampaignService/DeleteDisplayCampaign":{"post":{"tags":["DisplayCampaignService"],"operationId":"IDisplayCampaignService.DeleteDisplayCampaign","consumes":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"}},"required":["Id"]}}],"responses":{"204":{"description":"Successful response"}}}},"/DisplayCampaignService/GetDisplayCampaign":{"post":{"tags":["DisplayCampaignService"],"operationId":"IDisplayCampaignService.GetDisplayCampaign","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"}},"required":["Id"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TDisplayCampaign"}}}}},"/DisplayCampaignService/GetDisplayCampaigns":{"post":{"tags":["DisplayCampaignService"],"operationId":"IDisplayCampaignService.GetDisplayCampaigns","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"DisplayId":{"type":"integer"}},"required":["DisplayId"]}}],"responses":{"200":{"description":"Successful response","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TDisplayCampaign"}}}}}}}},"/DisplayCampaignService/UpdateDisplayCampaign":{"post":{"tags":["DisplayCampaignService"],"operationId":"IDisplayCampaignService.UpdateDisplayCampaign","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"},"IsPrimary":{"type":"boolean"}},"required":["Id","IsPrimary"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TDisplayCampaign"}}}}},"/DisplayService/CreateDisplay":{"post":{"tags":["DisplayService"],"operationId":"IDisplayService.CreateDisplay","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"OrganizationId":{"type":"integer"},"Name":{"type":"string"},"Orientation":{"type":"string"},"CurrentStatus":{"type":"string"},"ProvisioningToken":{"type":"string"}},"required":["OrganizationId","Name","Orientation","CurrentStatus","ProvisioningToken"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TDisplay"}}}}},"/DisplayService/DeleteDisplay":{"post":{"tags":["DisplayService"],"operationId":"IDisplayService.DeleteDisplay","consumes":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"}},"required":["Id"]}}],"responses":{"204":{"description":"Successful response"}}}},"/DisplayService/GetDisplay":{"post":{"tags":["DisplayService"],"operationId":"IDisplayService.GetDisplay","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"}},"required":["Id"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TDisplay"}}}}},"/DisplayService/GetDisplays":{"post":{"tags":["DisplayService"],"operationId":"IDisplayService.GetDisplays","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"OrganizationId":{"type":"integer"}},"required":["OrganizationId"]}}],"responses":{"200":{"description":"Successful response","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TDisplay"}}}}}}}},"/DisplayService/UpdateDisplay":{"post":{"tags":["DisplayService"],"operationId":"IDisplayService.UpdateDisplay","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"Id":{"type":"integer"},"Name":{"type":"string"},"Orientation":{"type":"string"},"CurrentStatus":{"type":"string"}},"required":["Id","Name","Orientation","CurrentStatus"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TDisplay"}}}}},"/HealthService/health":{"get":{"tags":["HealthService"],"operationId":"IHealthService.Health","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"Successful response","schema":{"type":"object","properties":{"value":{"type":"string"}}}}}}},"/MediaFileService/GetDownloadUrl":{"post":{"tags":["MediaFileService"],"operationId":"IMediaFileService.GetDownloadUrl","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"type":"object","properties":{"MediaFileId":{"type":"integer"}},"required":["MediaFileId"]}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/MediaFileService.TDownloadUrlResponse"}}}}},"/MediaFileService/GetUploadUrl":{"post":{"tags":["MediaFileService"],"operationId":"IMediaFileService.GetUploadUrl","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/MediaFileService.TUploadUrlRequest"}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/MediaFileService.TUploadUrlResponse"}}}}},"/OrganizationService/organizations":{"get":{"tags":["OrganizationService"],"operationId":"IOrganizationService.GetOrganizations","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"Successful response","schema":{"type":"object","properties":{"value":{"type":"array","items":{"$ref":"#/definitions/uEntities.TOrganization"}}}}}}},"post":{"tags":["OrganizationService"],"operationId":"IOrganizationService.CreateOrganization","consumes":["application/json"],"produces":["application/json"],"parameters":[{"in":"body","name":"body","required":true,"schema":{"$ref":"#/definitions/uEntities.TOrganization"}}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TOrganization"}}}}},"/OrganizationService/organizations/{id}":{"get":{"tags":["OrganizationService"],"operationId":"IOrganizationService.GetOrganization","produces":["application/json"],"parameters":[{"in":"path","name":"id","required":true,"type":"integer"}],"responses":{"200":{"description":"Successful response","schema":{"$ref":"#/definitions/uEntities.TOrganization"}}}}}},"definitions":{"uEntities.TOrganization":{"type":"object","properties":{"Id":{"type":"integer"},"Name":{"type":"string"},"CreatedAt":{"type":"string","format":"date-time"},"UpdatedAt":{"type":"string","format":"date-time"}}},"uEntities.TDisplay":{"type":"object","properties":{"Id":{"type":"integer"},"OrganizationId":{"type":"integer"},"Name":{"type":"string"},"Orientation":{"type":"string"},"LastSeen":{"type":"string","format":"date-time"},"CurrentStatus":{"type":"string"},"ProvisioningToken":{"type":"string"},"CreatedAt":{"type":"string","format":"date-time"},"UpdatedAt":{"type":"string","format":"date-time"}}},"uEntities.TDisplayCampaign":{"type":"object","properties":{"Id":{"type":"integer"},"DisplayId":{"type":"integer"},"CampaignId":{"type":"integer"},"IsPrimary":{"type":"boolean"}}},"uEntities.TCampaign":{"type":"object","properties":{"Id":{"type":"integer"},"OrganizationId":{"type":"integer"},"Name":{"type":"string"},"Orientation":{"type":"string"},"CreatedAt":{"type":"string","format":"date-time"},"UpdatedAt":{"type":"string","format":"date-time"}}},"uEntities.TCampaignItem":{"type":"object","properties":{"Id":{"type":"integer"},"CampaignId":{"type":"integer"},"MediaFileId":{"type":"integer"},"DisplayOrder":{"type":"integer"},"Duration":{"type":"integer"}}},"DeviceService.TDeviceConfigRequest":{"type":"object","properties":{"ProvisioningToken":{"type":"string"}}},"DeviceService.TDeviceConfigResponse":{"type":"object","properties":{"Device":{"$ref":"#/definitions/uEntities.TDisplay"},"Campaigns":{"type":"array","items":{"$ref":"#/definitions/uEntities.TCampaign"}},"Success":{"type":"boolean"},"Message":{"type":"string"}}},"DeviceService.TDeviceLogRequest":{"type":"object","properties":{"DisplayId":{"type":"integer"},"LogType":{"type":"string"},"Message":{"type":"string"},"Timestamp":{"type":"string","format":"date-time"}}},"DeviceService.TDeviceLogResponse":{"type":"object","properties":{"Success":{"type":"boolean"},"Message":{"type":"string"}}},"AuthService.TRegisterRequest":{"type":"object","properties":{"Email":{"type":"string"},"Password":{"type":"string"},"OrganizationName":{"type":"string"}}},"AuthService.TAuthResponse":{"type":"object","properties":{"Token":{"type":"string"},"User":{"$ref":"#/definitions/uEntities.TUser"},"Success":{"type":"boolean"},"Message":{"type":"string"}}},"uEntities.TUser":{"type":"object","properties":{"Id":{"type":"integer"},"OrganizationId":{"type":"integer"},"Email":{"type":"string"},"PasswordHash":{"type":"string"},"Role":{"type":"string"},"CreatedAt":{"type":"string","format":"date-time"},"UpdatedAt":{"type":"string","format":"date-time"}}},"AuthService.TLoginRequest":{"type":"object","properties":{"Email":{"type":"string"},"Password":{"type":"string"}}},"MediaFileService.TUploadUrlRequest":{"type":"object","properties":{"OrganizationId":{"type":"integer"},"FileName":{"type":"string"},"FileType":{"type":"string"},"ContentLength":{"type":"integer"}}},"MediaFileService.TUploadUrlResponse":{"type":"object","properties":{"MediaFileId":{"type":"integer"},"UploadUrl":{"type":"string"},"StorageKey":{"type":"string"},"Success":{"type":"boolean"},"Message":{"type":"string"}}},"MediaFileService.TDownloadUrlResponse":{"type":"object","properties":{"DownloadUrl":{"type":"string"},"Success":{"type":"boolean"},"Message":{"type":"string"}}}}}
